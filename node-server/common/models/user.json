{
  "name": "user",
  "plural": "user",
  "base": "User",
  "idInjection": true,
  "options": {
    "validateUpsert": true
  },
  "properties": {
    "firstName": {
      "type": "string",
      "required": true
    },
    "lastName": {
      "type": "string",
      "required": true
    },
    "mobile": {
      "type": "string",
      "required": true
    },
    "type": {
      "type": "string",
      "required": true
    }
  },
  "validations": [],
  "relations": {
    "cars": {
      "type": "hasMany",
      "model": "car",
      "foreignKey": "carId"
    },
    "drivers": {
      "type": "hasMany",
      "model": "driver",
      "foreignKey": "driverId"
    },
    "events": {
      "type": "hasMany",
      "model": "event",
      "foreignKey": "eventId"
    }
  },
  "acls": [
            { "principalType": "ROLE",
            "principalId": "$everyone",
            "permission": "DENY" },
          { "principalType": "ROLE",
            "principalId": "$everyone",
            "permission": "ALLOW",
            "property": "create" },
          { "principalType": "ROLE",
            "principalId": "$owner",
            "permission": "ALLOW",
            "property": "deleteById" },
          { "principalType": "ROLE",
            "principalId": "$everyone",
            "permission": "ALLOW",
            "property": "login" },
          { "principalType": "ROLE",
            "principalId": "$everyone",
            "permission": "ALLOW",
            "property": "logout" },
          { "principalType": "ROLE",
            "principalId": "$owner",
            "permission": "ALLOW",
            "property": "findById" },
          { "principalType": "ROLE",
            "principalId": "$owner",
            "permission": "ALLOW",
            "property": "updateAttributes" },
          { "principalType": "ROLE",
            "principalId": "$everyone",
            "permission": "ALLOW",
            "property": "confirm" },
          { "principalType": "ROLE",
            "principalId": "$everyone",
            "permission": "ALLOW",
            "property": "resetPassword",
            "accessType": "EXECUTE" 
          }, 
          {
           "principalType": "ROLE",
           "principalId": "$authenticated",
           "permission": "ALLOW",
           "property": "count"
          },
          {
           "principalType": "ROLE",
           "principalId": "$owner",
           "permission": "ALLOW",
           "accessType": "EXECUTE",
           "property": "__get__cars"
          },
          {
           "principalType": "ROLE",
           "principalId": "$owner",
           "permission": "ALLOW",
           "accessType": "EXECUTE",
           "property": "__get__drivers"
          },
          {
           "principalType": "ROLE",
           "principalId": "$owner",
           "permission": "ALLOW",
           "accessType": "EXECUTE",
           "property": "__create__drivers"
          },
          {
           "principalType": "ROLE",
           "principalId": "$owner",
           "permission": "ALLOW",
           "accessType": "EXECUTE",
           "property": "__get__events"
          },
          {
           "principalType": "ROLE",
           "principalId": "$owner",
           "permission": "ALLOW",
           "accessType": "EXECUTE",
           "property": "__create__events"
          },
          {
           "principalType": "ROLE",
           "principalId": "$authenticated",
           "permission": "ALLOW",
           "property": "__count__cars"
          }],
  "methods": []
}
